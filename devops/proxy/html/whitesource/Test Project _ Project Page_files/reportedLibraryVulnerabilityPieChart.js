function createViaReportedLibraryVulnerabilityPieChart(elementId, dataSource) {
    const highColor = "#D1260F";
    const mediumColor = "#F6A21A";
    const lowColor = "#FFE100";

    $("#" + elementId).empty();
    $("#" + elementId).removeData();
    $("#" + elementId).dxPieChart({
        dataSource: dataSource,
        type: "doughnut",
        title: {
            visible: false
        },
        tooltip: {
            enabled: true,
            percentPrecision: 2,
            customizeTooltip: function (arg) {
                return {
                    text: "<b>" + arg.argumentText + "</b>: " + arg.valueText + " (" + arg.percentText + ")"
                };
            }
        },
        legend: {
            orientation: "horizontal",
            itemTextPosition: "right",
            horizontalAlignment: "center",
            verticalAlignment: "bottom",
            columnCount: 3,
            font: {
                size: 10,
            },
            customizeText: function (arg) {
                return arg.pointName;
            }
        },
        series: [
            {
                argumentField: "argument",
                label: {
                    visible: false,
                }
            }
        ],
        customizePoint: function (point) {
            if (point.argument === "High")
                return {
                    color: highColor
                };
            if (point.argument === "Medium")
                return {
                    color: mediumColor
                };
            if (point.argument === "Low")
                return {
                    color: lowColor
                }
        },
        onPointClick: function (clickedPoint) {
            window.top.onVulnerabilityPieSliceClick();
        },
        onLegendClick: function (clickedPoint) {
            window.top.onVulnerabilityPieSliceClick();
        }
    });
}

